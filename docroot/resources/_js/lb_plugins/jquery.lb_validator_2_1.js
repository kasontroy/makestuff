/*
 * lifeBLUE Media jQuery plugin to validate forms.
 * @copywrite 2010 lifeBLUE Media
 * @author Joe Mills
 */
(function(a){a.fn.lb_validator_2_1=function(b){var c=a.extend({},a.fn.lb_validator_2_1.defaultOptions,b);return this.each(function(){var e=a(this),d=e.attr("id");e.submit(function(){var g=f();if(g&&a.isFunction(c.onSuccess)){c.onSuccess.apply(this);return false}return g});if(c.validateNow){return f()}function f(){var g=false;if(a.isFunction(c.extraValidation)){g=!c.extraValidation.apply(this)}a("#"+d+" "+c.requiredSelector).each(function(){var i=a(this);if(i.hasClass("valCheck")){var h=false;a("input:checkbox:checked",i).each(function(){h=true});if(h==false){a(c.errorSelector,i).show();i.addClass("error");g=true}else{i.removeClass("error")}}else{a("input, select, textarea",i).each(function(){if(c.instantGratification){a(this).keyup(function(){if(i.hasClass(c.emailValidationClass)){filter=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/;if(filter.test(a(this).val())&&a(this).val()!=""){i.removeClass("error");g=false}}else{if(i.hasClass(c.phoneValidationClass)){filter=/^(\+\d)*\s*(\(\d{3}\)|\d{3})*(\s{0,1}|-{0,1})\d{3}(-{0,1}|\s{0,1})\d{4}$/;if(!filter.test(a(this).val())&&a(this).val()!=""){i.removeClass("error");g=false}}else{if(a(this).val()!=""){i.removeClass("error");a(c.errorSelector,i).hide()}}}})}if(a(this).val()==""){a(c.errorSelector,i).show();i.addClass("error");g=true}else{i.removeClass("error")}if(i.hasClass(c.emailValidationClass)){filter=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/;if(!filter.test(a(this).val())){i.addClass("error");g=true}}if(i.hasClass(c.phoneValidationClass)){filter=/^(\+\d)*\s*(\(\d{3}\)|\d{3})*(\s{0,1}|-{0,1})\d{3}(-{0,1}|\s{0,1})\d{4}$/;if(!filter.test(a(this).val())){i.addClass("error");g=true}}if(i.hasClass(c.zipValidationClass)){filter=/(^\d{5}$)|(^\d{5}-\d{4}$)/;if(!filter.test(a(this).val())){i.addClass("error");g=true}}})}if(g==true){i.addClass(c.validationErrorClass)}});if(g==true){if(a.isFunction(c.hasErrors)){c.hasErrors.apply(this)}return false}else{return true}}})};a.fn.lb_validator_2_1.defaultOptions={requiredSelector:".val",checkSelector:".valCheck",errorSelector:".valError",validationErrorClass:"validationError",validationCheckClass:"validationCheck",emailValidationClass:"valEmail",phoneValidationClass:"valPhone",zipValidationClass:"valZip",validateNow:false,instantGratification:false,extraValidation:null,hasErrors:null,onSuccess:null}})(jQuery);